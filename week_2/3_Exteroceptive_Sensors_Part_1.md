# Exteroceptive Sensors (Part 1): Perceiving the World

While proprioceptive sensors report the robot's internal state, **exteroceptive sensors** are its window to the world, measuring properties of the environment. In this section, we will focus on location and distance measurement sensors.

## 1. Global Navigation Satellite Systems (GNSS)

The best-known of these systems is the **GPS (Global Positioning System)**. It provides the robot's position in a global coordinate system (latitude, longitude, and altitude).

-   **How it works:** A GPS receiver on Earth needs a direct line of sight with at least **four satellites**. Each satellite transmits its position and the exact time (measured by atomic clocks). By measuring the time it took for the signal from each satellite to arrive, the receiver calculates its distance to them and, through a process of trilateration, determines its own 3D position.

-   **Global Systems:** The American GPS is not the only one. Other operational GNSS systems include the Russian **GLONASS**, the European **Galileo**, and the Chinese **Beidou**.

-   **Limitations:**
    -   **Update Rate:** The rate is relatively low (typically 1-5 Hz) compared to inertial sensors.
    -   **Availability:** Requires open sky. It does not work well indoors, in dense urban environments ("urban canyons"), or under dense foliage.
    -   **Accuracy:** Standard GPS receivers have an accuracy of a few meters.

### Increasing GNSS Accuracy

For applications requiring greater accuracy, precision enhancement techniques have been developed:

-   **DGPS (Differential GPS):** Uses a fixed base station at a known high-precision location. This station calculates errors in satellite measurements and transmits a correction signal to mobile receivers in the area, improving accuracy to **less than 1 meter**.

-   **RTK (Real-Time Kinematic):** An even more precise technique. An RTK base station and an RTK receiver measure the phase of the satellite signal's carrier wave, in addition to the signal's content. By correcting the phase shift, RTK can achieve **centimeter-level accuracy** (1-2 cm). It is a more expensive technology, but crucial for applications such as precision agriculture and high-speed autonomous vehicles.

## 2. Magnetometer

A **magnetometer** works like an electronic compass, measuring the Earth's magnetic field to determine the direction of magnetic north.

-   **Application:** It is used to calculate the robot's orientation, specifically the **Yaw** or **Heading** (the direction on the compass).

-   **Limitation:** It is highly susceptible to interference from local magnetic fields, such as those generated by metal structures (buildings, bridges) or high-voltage cables. Therefore, it is rarely used alone, being commonly integrated into an IMU so that its data can be fused with that of gyroscopes and accelerometers, correcting the gyroscope's *drift* in the long term.

## 3. Ultrasound Sensor (Sonar)

**Sonar (SOund NAvigation and Ranging)** is a low-cost active sensor used to measure the distance to obstacles.

-   **How it works:**
    1.  It emits a high-frequency sound pulse (typically 40-180 kHz, inaudible to humans).
    2.  The sound travels, reflects off an object, and returns as an echo.
    3.  The sensor measures the time between the emission and reception of the echo.
    4.  Knowing the speed of sound in the medium (air or water), the distance to the object is calculated: `Distance = (Time of Flight * Speed of Sound) / 2`.

-   **Characteristics:**
    -   **Field of View:** The sound is emitted in a **cone**, typically with an opening of 30 degrees. This means that the sonar does not report the exact location of the object within the cone, only that there is *something* at the measured distance.
    -   **Detection Limits:** It has a minimum (so the sound does not return before the emission ends) and maximum (the echo becomes too weak) detection distance, usually in the order of a few meters (e.g., 5 meters).
    -   **Applications:** Very common in mobile robots for obstacle detection and collision avoidance, due to its low cost and simplicity. Multiple sonars are often arranged around the robot to provide 360-degree coverage.
